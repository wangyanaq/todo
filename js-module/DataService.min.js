(function(a){a.module("todoApp.dataService",[]).service("todoService",function(e){var d=this;var b=e.localStorage;var c=JSON.parse(b.getItem("todo"))||[];this.save=function(){b.setItem("todo",JSON.stringify(c))};this.getData=function(){return c};this.add=function(f){var g;g=c.length===0?1:c[c.length-1].id+1;c.push({id:g,name:f,isCompleted:false});this.save()};this.del=function(g){for(var f=0;f<c.length;f++){if(c[f].id===g){c.splice(f,1);break}}d.save()};this.changeAll=function(f){for(var g=0;g<c.length;g++){c[g].isCompleted=f}this.save()};this.changeOne=function(g){for(var f=0;f<c.length;f++){if(c[f].isCompleted==false){g.checkAll=false;this.save();return}else{g.checkAll=true}}this.save()};this.isShow=function(){for(var f=0;f<c.length;f++){if(c[f].isCompleted==true){d.save();return true;break}}d.save();return false};this.clearComplated=function(){var g=[];for(var f=0;f<c.length;f++){if(!c[f].isCompleted){g.push(c[f])}}c.length=0;[].push.apply(c,g);d.save()};this.unCompletedCount=function(){var g=0;for(var f=0;f<c.length;f++){if(!c[f].isCompleted){g++}}return g}})})(angular);